---
export interface Props {
  name: string;
  description: string;
  category?: string;
  keywords?: string[];
  path: string;
}

const { name, description, category = "Developer Tools", keywords = [], path } = Astro.props;

const fullTitle = `${name} - Free Online Tool | Caiatech`;
const fullDescription = `${description}. 100% free, runs in your browser, no data collection. Part of 69+ developer tools.`;
const canonicalURL = `https://caiatech.com${path}`;

// Add default keywords
const allKeywords = [
  name.toLowerCase(),
  'online tool',
  'free',
  'developer tool',
  'web tool',
  'browser based',
  'no signup',
  'privacy focused',
  ...keywords
].join(', ');

// Structured data for individual tool
const structuredData = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "SoftwareApplication",
      "@id": canonicalURL,
      "name": name,
      "description": fullDescription,
      "url": canonicalURL,
      "applicationCategory": "DeveloperApplication",
      "applicationSubCategory": category,
      "operatingSystem": "Web Browser",
      "permissions": "No special permissions required",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "100% browser-based",
        "No data collection",
        "No server processing",
        "Instant results",
        "Free forever"
      ],
      "publisher": {
        "@type": "Organization",
        "name": "Caiatech",
        "url": "https://caiatech.com"
      }
    },
    {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://caiatech.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Tools",
          "item": "https://caiatech.com/tools"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": name,
          "item": canonicalURL
        }
      ]
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": `Is ${name} free to use?`,
          "acceptedAnswer": {
            "@type": "Answer",
            "text": `Yes, ${name} is completely free to use. There are no hidden fees, no signup required, and no limits on usage.`
          }
        },
        {
          "@type": "Question",
          "name": `Is my data safe when using ${name}?`,
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Absolutely. All processing happens directly in your browser. No data is ever sent to our servers or collected in any way."
          }
        },
        {
          "@type": "Question",
          "name": `Can I use ${name} offline?`,
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Once the page is loaded, the tool works entirely offline as all processing happens in your browser."
          }
        }
      ]
    }
  ]
};
---

<!-- SEO Meta Tags -->
<title>{fullTitle}</title>
<meta name="description" content={fullDescription} />
<meta name="keywords" content={allKeywords} />
<link rel="canonical" href={canonicalURL} />

<!-- Open Graph Tags -->
<meta property="og:title" content={fullTitle} />
<meta property="og:description" content={fullDescription} />
<meta property="og:url" content={canonicalURL} />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Caiatech" />
<meta property="og:locale" content="en_US" />

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content={fullTitle} />
<meta name="twitter:description" content={fullDescription} />
<meta name="twitter:url" content={canonicalURL} />
<meta name="twitter:site" content="@caiatech" />

<!-- Additional SEO Tags -->
<meta name="robots" content="index, follow" />
<meta name="googlebot" content="index, follow" />
<meta name="author" content="Caiatech" />
<meta name="publisher" content="Caiatech" />

<!-- Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(structuredData)}></script>

<!-- Breadcrumb Navigation -->
<nav aria-label="Breadcrumb" class="tool-breadcrumb">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content="1" />
    </li>
    <li class="separator">›</li>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="/tools/">
        <span itemprop="name">Tools</span>
      </a>
      <meta itemprop="position" content="2" />
    </li>
    <li class="separator">›</li>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <span itemprop="name">{name}</span>
      <meta itemprop="position" content="3" />
    </li>
  </ol>
</nav>

<style>
  .tool-breadcrumb {
    padding: 0.75rem 1rem;
    background: var(--color-surface);
    border-bottom: 1px solid var(--color-border);
    margin-bottom: 1rem;
  }

  .tool-breadcrumb ol {
    display: flex;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
    max-width: 1200px;
    margin: 0 auto;
  }

  .tool-breadcrumb li {
    font-family: var(--font-mono);
    font-size: 0.85rem;
  }

  .tool-breadcrumb a {
    color: var(--color-text-secondary);
    text-decoration: none;
    transition: color 0.2s;
  }

  .tool-breadcrumb a:hover {
    color: var(--color-accent);
  }

  .tool-breadcrumb .separator {
    margin: 0 0.5rem;
    color: var(--color-text-secondary);
    opacity: 0.5;
  }

  .tool-breadcrumb li:last-child span {
    color: var(--color-accent);
  }
</style>